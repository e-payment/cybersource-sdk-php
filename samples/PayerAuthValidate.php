<?php

require_once(__DIR__ . '/../lib/CybsSoapClient.php');
require_once('config.php');

// merchant reference code for the transaction.
$referenceCode = date('YmdHis');

// VISA
$PaRes = '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';

//$MD = 'QkNwU3R5OUk5TXFRNGh3NUxOazA=';


// MasterCard
// $PaRes = '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';

//$MD = 'cTBNaWY5dFdKd3prM1V0NDN3YjA=';


// JCB
//$PaRes = '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';

//$MD = 'WGswMkNQVElrNmdwM3FrbTJTaDA=';

/*

payerAuthValidateService_run=true
merchantID=infodev
merchantReferenceCode=23AEE8CB6B62EE2AF07
card_expirationMonth=12
card_expirationYear=2015
card_accountNumber=xxxxxxxxxxxxxxxx
card_cardType=001
purchaseTotals_currency=USD
payerAuthValidateService_signedPARes=value

*/

$client = new CybsSoapClient($soap_config);
$request = $client->createRequest($referenceCode);

$payerAuthValidateService = new stdClass();
$payerAuthValidateService->run = 'true';
$payerAuthValidateService->signedPARes = $PaRes;
$request->payerAuthValidateService = $payerAuthValidateService;

$item0 = new stdClass();
$item0->unitPrice = '12.34';
$request->item = array($item0);

$purchaseTotals = new stdClass();
$purchaseTotals->currency = 'THB';
$request->purchaseTotals  = $purchaseTotals;

$card_types = array('4' => '001', '5' => '002', '3' => '007');

$card = new stdClass();
$card->accountNumber   = '4000000000000002';
// $card->accountNumber   = '5200000000000007';
// $card->accountNumber   = '3569990010083722';

$card->expirationMonth = '12';
$card->expirationYear  = '2020';
$card_prefix    = substr($card->accountNumber, 0, 1);
$card->cardType = $card_types[$card_prefix];
$request->card  = $card;

$reply = $client->runTransaction($request);
print_r($reply);
echo PHP_EOL;

// EOF